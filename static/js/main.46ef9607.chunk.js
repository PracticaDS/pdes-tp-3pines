(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,a,n){},18:function(e,a,n){},27:function(e,a,n){e.exports=n(43)},34:function(e,a,n){},35:function(e,a,n){},38:function(e,a,n){},39:function(e,a,n){},40:function(e,a,n){},41:function(e,a,n){},42:function(e,a,n){},43:function(e,a,n){"use strict";n.r(a);var c=n(0),t=n.n(c),r=n(9),i=n.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(10),u=(n(34),n(19)),s=n(20),l=n(25),d=n(21),m=n(26),f=(n(35),n(18),n(12),"SELECCIONAR_ACCION"),v=function(e){return{type:f,payload:e}},p=n(2),b=function(e){var a=e.accion,n=e.seleccionarImagen,c=e.imagen;return t.a.createElement("div",{onClick:n},t.a.createElement("img",{src:c,alt:a.nombre,className:"accion"}))},E=function(e,a){return e.acciones.accionSeleccionada.nombre===a.accion.nombre?a.accion.imagenActivaUrl:a.accion.imagenInactivaUrl},g=Object(p.a)(function(e,a){return{imagen:E(e,a)}},function(e,a){return{seleccionarImagen:function(){return e(v(a.accion))}}})(b),O=function(e){var a=e.maquinas,n=e.acciones,c=function(){return n.map(function(e,a){return t.a.createElement(g,{key:"accion-".concat(a),accion:e})})},r=function(){return a.map(function(e,a){return t.a.createElement(g,{key:"maquina-".concat(a),accion:e})})};return t.a.createElement("div",{className:"toolbox-contenedor"},t.a.createElement("div",{className:"acciones-contenedor"},t.a.createElement("div",{className:"titulo"},"M\xe1quinas"),t.a.createElement("div",{className:"toolbox-acciones borde-redondeado"},t.a.createElement("div",{className:"row"},r().slice(0,2)),t.a.createElement("div",{className:"row"},r().slice(2,4)),t.a.createElement("div",{className:"row"},r().slice(4,6)))),t.a.createElement("div",{className:"acciones-contenedor"},t.a.createElement("div",{className:"titulo"},"Edici\xf3n"),t.a.createElement("div",{className:"toolbox-acciones borde-redondeado"},t.a.createElement("div",{className:"row"},c().slice(0,2)),t.a.createElement("div",{className:"row"},c().slice(2,4)))))},j=(n(38),n(1)),y=function(e,a,n,c,t){return{nombre:e,imagenActivaUrl:a,imagenInactivaUrl:n,frecuencia:c,costo:t,direccion:arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Norte",tick:function(){return 1}}},N=function(e,a,n,c){return{nombre:e,imagenActivaUrl:a,imagenInactivaUrl:n,accion:c}},q=[N("Rotar","/pdes-tp-3pines/icons/rotar_activo.svg","/pdes-tp-3pines/icons/rotar.svg",{ejecutar:function(e){return"Norte"===e.direccion?Object(j.a)({},e,{direccion:"Este"}):"Este"===e.direccion?Object(j.a)({},e,{direccion:"Sur"}):"Sur"===e.direccion?Object(j.a)({},e,{direccion:"Oeste"}):"Oeste"===e.direccion?Object(j.a)({},e,{direccion:"Norte"}):void 0}}),N("Eliminar","/pdes-tp-3pines/icons/eliminar_activo.svg","/pdes-tp-3pines/icons/eliminar.svg",{ejecutar:function(e){return null}}),N("Mover","/pdes-tp-3pines/icons/mover_activo.svg","/pdes-tp-3pines/icons/mover.svg",{ejecutar:function(){}})],A="Starter",h="Seller",C=[y(A,"/pdes-tp-3pines/icons/starter_activo.svg","/pdes-tp-3pines/icons/starter.svg","1","10"),y(h,"/pdes-tp-3pines/icons/seller_activo.svg","/pdes-tp-3pines/icons/seller.svg","1","15"),y("Crafter","/pdes-tp-3pines/icons/crafter_activo.svg","/pdes-tp-3pines/icons/crafter.svg","1","20"),y("Furnace","/pdes-tp-3pines/icons/furnace_activo.svg","/pdes-tp-3pines/icons/furnace.svg","1","25"),y("Transporter","/pdes-tp-3pines/icons/transporter_activo.svg","/pdes-tp-3pines/icons/transporter.svg","1","30","Norte")];function w(e){return C.find(function(a){return a.nombre===e.acciones.accionSeleccionada.nombre})}var x=Object(p.a)(function(e,a){return{maquina:w(e)}})(function(e){var a=e.maquina;return t.a.createElement("div",{className:"detalle-contenedor"},t.a.createElement("div",null,t.a.createElement("div",{className:"titulo"},"Detalles"),t.a.createElement("div",{className:"detalle-contenido borde-redondeado"},a?t.a.createElement("div",null,t.a.createElement("div",{className:"nombre-maquina"},a.nombre),t.a.createElement("div",{className:"costo-maquina"},"Costo: ",t.a.createElement("span",null," $",a.costo," ")),t.a.createElement("div",{className:"frecuencia-maquina"},"Frecuencia: ",t.a.createElement("span",null," ",a.frecuencia,"/s "))):"")))}),_=(n(39),n(40),n(41),function(e){var a=e.maquina;return t.a.createElement("div",null,t.a.createElement("img",{src:a.imagenInactivaUrl,alt:a.nombre,className:"'maquina' ".concat(a.direccion.toLowerCase())}))}),I=function(e){return"celda ".concat(e?"seleccionada":"")},S=function(e){var a=e.celda,n=e.seleccionada,c=e.seleccionar,r=e.maquina;return t.a.createElement("div",{className:I(n),onClick:c},r?t.a.createElement(_,{maquina:r}):"",a.materia?t.a.createElement("div",{className:"materia-prima"},a.materia):"")},k="SELECCIONAR_CELDA",D="AGREGAR_MAQUINA",R="EJECUTAR_ACCION",U="SELECCIONAR_CELDA_DE_MAQUINA_A_MOVER",M="MOVER_MAQUINA_DE_CELDA",L=function(e){return function(a,n){a({type:k,payload:e});var c=n().acciones.accionSeleccionada;if(function(e){return C.map(function(e){return e.nombre}).includes(e.nombre)}(c)&&a({type:D,payload:{celda:e,maquinaAAgregar:c.nombre}}),function(e){return q.map(function(e){return e.nombre}).includes(e.nombre)}(c)){if("Mover"===c.nombre){var t=e.maquina,r=n().fabrica.moverDesdeCelda;if(!t&&!r)return;return void a(r?{type:M,payload:{celda:e,accionAEjecutar:c}}:{type:U,payload:{celda:e,accionAEjecutar:c}})}a({type:R,payload:{celda:e,accionAEjecutar:c}})}}},T=Object(p.a)(function(e,a){return{celda:a.celda,seleccionada:a.celda.seleccionada,maquina:a.celda.maquina}},function(e,a){return{seleccionar:function(){return e(L(a.celda))}}})(S),G=function(e){return{gridTemplateColumns:"repeat(".concat(e.ancho,", ").concat(55,"px)"),gridTemplateRows:"repeat(".concat(e.alto,", ").concat(55,"px)"),width:"".concat(55*e.ancho,"px"),height:"".concat(55*e.alto,"px")}},J="TICK",Q=function(){return{type:J}},W=function(e){setInterval(function(){e(Q())},1e3)},$=Object(p.a)(function(e,a){return{alto:e.fabrica.alto,ancho:e.fabrica.ancho,celdas:e.fabrica.celdas}},function(e,a){return{tick:W(e)}})(function(e){return t.a.createElement("div",{className:"fabrica-contenedor"},t.a.createElement("div",{className:"fabrica",style:G(e)},e.celdas.map(function(e,a){return t.a.createElement(T,{key:a,celda:e})})))}),B=(n(42),function(e){var a=e.ganancia;return t.a.createElement("div",{className:"ganancia-contenedor"},"Ganancias ",t.a.createElement("span",{className:"ganancia"},"$",a))}),F=Object(p.a)(function(e,a){return{ganancia:e.fabrica.ganancia}},null)(B),V=function(e){function a(){return Object(u.a)(this,a),Object(l.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return t.a.createElement("div",{className:"app-contenedor"},t.a.createElement(F,{id:"ganancia"}),t.a.createElement(O,{maquinas:C,acciones:q}),t.a.createElement($,{id:"fabrica"}),t.a.createElement(x,{id:"detalle"}))}}]),a}(c.Component),K=n(3),z=n(23),H={nombre:""},P={accionSeleccionada:H};var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,a=arguments.length>1?arguments[1]:void 0,n=a.type,c=a.payload;switch(n){case f:return e.accionSeleccionada.nombre===c.nombre?Object(j.a)({},e,{accionSeleccionada:H}):Object(j.a)({},e,{accionSeleccionada:c});default:return e}},Y=n(8),Z=function(e){return e.seleccionada?e:Object(j.a)({},e,{seleccionada:!0})},ee=function(e){return e.seleccionada?Object(j.a)({},e,{seleccionada:!1}):e},ae=function(e,a){return e.x===a.x&&e.y===a.y},ne=function(e,a){return Object(j.a)({},e,{maquina:a})},ce=function(e,a){return e.x===a.x?e.y-a.y:e.x-a.x},te=function(e,a){return Object(j.a)({},e,{maquina:a.accion.ejecutar(e.maquina)})},re=function(e){return null!==e.maquina},ie=function(e){return"".concat(e.x,"-").concat(e.y)},oe={ancho:10,alto:10,celdas:function(e,a){return Array.from(Array(e*a)).map(function(n,c){var t=c%e;return function(e,a){return{seleccionada:!1,maquina:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,materia:0,x:e,y:a}}(t,(c-t)/a)}).sort(ce)}(10,10),moverDesdeCelda:null,ganancia:0},ue=function(e,a,n){return e.find(function(e){return e.x===a&&e.y===n})},se=function(e,a){switch(a.maquina.direccion){case"Norte":return ue(e,a.x+1,a.y);case"Sur":return ue(e,a.x-1,a.y);case"Este":return ue(e,a.x,a.y-1);case"Oeste":return ue(e,a.x,a.y+1);default:return null}};var le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,a=arguments.length>1?arguments[1]:void 0,n=a.type,c=a.payload;switch(n){case J:var t=e.ganancia,r=e.celdas.filter(function(e){return e.maquina}).reduce(function(a,n){var c=se(e.celdas,n);if(c&&n.maquina.nombre===A){var r=a[ie(c)]?a[ie(c)].materia:c.materia;a[ie(c)]=Object(j.a)({},c,{materia:r+n.maquina.tick(c)})}return n.maquina.nombre===h&&n.materia>0&&(a[ie(n)]=Object(j.a)({},n,{materia:n.materia-1}),t+=10),a},{});if(0===Object.keys(r).length)return e;var i=e.celdas.map(function(e){return r[ie(e)]?r[ie(e)]:e});return t!==e.ganancia?Object(j.a)({},e,{celdas:i,ganancia:t}):Object(j.a)({},e,{celdas:i});case k:var o=Object(Y.a)(e.celdas).map(function(e){return ae(e,c)?Z(e):ee(e)});return Object(j.a)({},e,{celdas:o});case D:var u=C.find(function(e){return e.nombre===c.maquinaAAgregar}),s=Object(Y.a)(e.celdas).map(function(e){return ae(e,c.celda)?ne(e,u):e});return Object(j.a)({},e,{celdas:s});case R:if(re(c.celda)){var l=Object(Y.a)(e.celdas).map(function(e){return ae(e,c.celda)?te(e,c.accionAEjecutar):e});return Object(j.a)({},e,{celdas:l})}return e;case U:return Object(j.a)({},e,{moverDesdeCelda:c.celda});case M:var d=Object(Y.a)(e.celdas).map(function(a){return ae(a,c.celda)?Object(j.a)({},a,{maquina:e.moverDesdeCelda.maquina}):ae(a,e.moverDesdeCelda)?Object(j.a)({},a,{maquina:c.celda.maquina}):a});return Object(j.a)({},e,{celdas:d,moverDesdeCelda:null});default:return e}},de=n(24),me=Object(K.combineReducers)({fabrica:le,acciones:X}),fe=Object(K.createStore)(me,Object(de.composeWithDevTools)(Object(K.applyMiddleware)(z.a))),ve=t.a.createElement(o.a,{store:fe},t.a.createElement(V,null));i.a.render(ve,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.46ef9607.chunk.js.map