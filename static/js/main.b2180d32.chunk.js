(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,a,n){},18:function(e,a,n){},27:function(e,a,n){e.exports=n(42)},34:function(e,a,n){},35:function(e,a,n){},38:function(e,a,n){},39:function(e,a,n){},40:function(e,a,n){},41:function(e,a,n){},42:function(e,a,n){"use strict";n.r(a);var c=n(0),t=n.n(c),r=n(9),i=n.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(10),u=(n(34),n(19)),l=n(20),s=n(25),d=n(21),m=n(26),f=(n(35),n(18),n(12),"SELECCIONAR_ACCION"),p=function(e){return{type:f,payload:e}},v=n(2),b=function(e){var a=e.accion,n=e.seleccionarImagen,c=e.imagen;return t.a.createElement("div",{onClick:n},t.a.createElement("img",{src:c,alt:a.nombre,className:"accion"}))};function E(e,a){return e.acciones.accionSeleccionada.nombre===a.accion.nombre?a.accion.imagenActivaUrl:a.accion.imagenInactivaUrl}var g=Object(v.a)(function(e,a){return{imagen:E(e,a)}},function(e,a){return{seleccionarImagen:function(){return e(p(a.accion))}}})(b),O=function(e){var a=e.maquinas,n=e.acciones,c=function(){return n.map(function(e,a){return t.a.createElement(g,{key:"accion-".concat(a),accion:e})})},r=function(){return a.map(function(e,a){return t.a.createElement(g,{key:"maquina-".concat(a),accion:e})})};return t.a.createElement("div",{className:"toolbox-contenedor"},t.a.createElement("div",{className:"acciones-contenedor"},t.a.createElement("div",{className:"titulo"},"M\xe1quinas"),t.a.createElement("div",{className:"toolbox-acciones borde-piola"},t.a.createElement("div",{className:"row"},r().slice(0,2)),t.a.createElement("div",{className:"row"},r().slice(2,4)),t.a.createElement("div",{className:"row"},r().slice(4,6)))),t.a.createElement("div",{className:"acciones-contenedor"},t.a.createElement("div",{className:"titulo"},"Edici\xf3n"),t.a.createElement("div",{className:"toolbox-acciones borde-piola"},t.a.createElement("div",{className:"row"},c().slice(0,2)),t.a.createElement("div",{className:"row"},c().slice(2,4)))))},j=(n(38),n(1)),y=function(e,a,n,c,t){return{nombre:e,imagenActivaUrl:a,imagenInactivaUrl:n,frecuencia:c,costo:t,direccion:arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Norte",tick:function(){return 1}}},N=function(e,a,n,c){return{nombre:e,imagenActivaUrl:a,imagenInactivaUrl:n,accion:c}},q=[N("Rotar","/pdes-tp-3pines/icons/rotar_activo.svg","/pdes-tp-3pines/icons/rotar.svg",{ejecutar:function(e){return"Norte"===e.direccion?Object(j.a)({},e,{direccion:"Este"}):"Este"===e.direccion?Object(j.a)({},e,{direccion:"Sur"}):"Sur"===e.direccion?Object(j.a)({},e,{direccion:"Oeste"}):"Oeste"===e.direccion?Object(j.a)({},e,{direccion:"Norte"}):void 0}}),N("Eliminar","/pdes-tp-3pines/icons/eliminar_activo.svg","/pdes-tp-3pines/icons/eliminar.svg",{ejecutar:function(e){return null}}),N("Mover","/pdes-tp-3pines/icons/mover_activo.svg","/pdes-tp-3pines/icons/mover.svg",{ejecutar:function(){}})],A="Starter",h=[y(A,"/pdes-tp-3pines/icons/starter_activo.svg","/pdes-tp-3pines/icons/starter.svg","1","10"),y("Seller","/pdes-tp-3pines/icons/seller_activo.svg","/pdes-tp-3pines/icons/seller.svg","1","15"),y("Crafter","/pdes-tp-3pines/icons/crafter_activo.svg","/pdes-tp-3pines/icons/crafter.svg","1","20"),y("Furnace","/pdes-tp-3pines/icons/furnace_activo.svg","/pdes-tp-3pines/icons/furnace.svg","1","25"),y("Transporter","/pdes-tp-3pines/icons/transporter_activo.svg","/pdes-tp-3pines/icons/transporter.svg","1","30","Norte")];function C(e){return h.find(function(a){return a.nombre===e.acciones.accionSeleccionada.nombre})}var w=Object(v.a)(function(e,a){return{maquina:C(e)}})(function(e){var a=e.maquina;return t.a.createElement("div",{className:"detalle-contenedor"},t.a.createElement("div",null,t.a.createElement("div",{className:"titulo"},"Detalles"),t.a.createElement("div",{className:"detalle-contenido borde-redondeado"},a?t.a.createElement("div",null,t.a.createElement("div",{className:"nombre-maquina"},a.nombre),t.a.createElement("div",{className:"costo-maquina"},"Costo: ",t.a.createElement("span",null," $",a.costo," ")),t.a.createElement("div",{className:"frecuencia-maquina"},"Frecuencia: ",t.a.createElement("span",null," ",a.frecuencia,"/s "))):"")))}),x=(n(39),n(40),n(41),function(e){var a=e.maquina;return t.a.createElement("div",null,t.a.createElement("img",{src:a.imagenInactivaUrl,alt:a.nombre,className:"'maquina' ".concat(a.direccion.toLowerCase())}))}),_=function(e){return"celda ".concat(e?"seleccionada":"")},I=function(e){var a=e.celda,n=e.seleccionada,c=e.seleccionar,r=e.maquina;return t.a.createElement("div",{className:_(n),onClick:c},r?t.a.createElement(x,{maquina:r}):"",a.materia?t.a.createElement("div",{className:"materia-prima"},a.materia):"")},S="SELECCIONAR_CELDA",k="AGREGAR_MAQUINA",D="EJECUTAR_ACCION",R="SELECCIONAR_CELDA_DE_MAQUINA_A_MOVER",U="MOVER_MAQUINA_DE_CELDA",M=function(e){return function(a,n){a({type:S,payload:e});var c=n().acciones.accionSeleccionada;if(function(e){return h.map(function(e){return e.nombre}).includes(e.nombre)}(c)&&a({type:k,payload:{celda:e,maquinaAAgregar:c.nombre}}),function(e){return q.map(function(e){return e.nombre}).includes(e.nombre)}(c)){if("Mover"===c.nombre){var t=e.maquina,r=n().fabrica.moverDesdeCelda;if(!t&&!r)return;return void a(r?{type:U,payload:{celda:e,accionAEjecutar:c}}:{type:R,payload:{celda:e,accionAEjecutar:c}})}a({type:D,payload:{celda:e,accionAEjecutar:c}})}}},L=Object(v.a)(function(e,a){return{celda:a.celda,seleccionada:a.celda.seleccionada,maquina:a.celda.maquina}},function(e,a){return{seleccionar:function(){return e(M(a.celda))}}})(I),T=function(e){return{gridTemplateColumns:"repeat(".concat(e.ancho,", ").concat(55,"px)"),gridTemplateRows:"repeat(".concat(e.alto,", ").concat(55,"px)"),width:"".concat(55*e.ancho,"px"),height:"".concat(55*e.alto,"px")}},J="TICK",Q=function(){return{type:J}},W=function(e){setInterval(function(){e(Q())},1e3)},B=Object(v.a)(function(e,a){return{alto:e.fabrica.alto,ancho:e.fabrica.ancho,celdas:e.fabrica.celdas}},function(e,a){return{tick:W(e)}})(function(e){return t.a.createElement("div",{className:"fabrica-contenedor",style:T(e)},e.celdas.map(function(e,a){return t.a.createElement(L,{key:a,celda:e})}))}),F=function(e){function a(){return Object(u.a)(this,a),Object(s.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return t.a.createElement("div",{className:"app-contenedor"},t.a.createElement(O,{maquinas:h,acciones:q}),t.a.createElement(B,{id:"fabrica"}),t.a.createElement(w,{id:"detalle"}))}}]),a}(c.Component),G=n(3),V=n(23),$={nombre:""},K={accionSeleccionada:$};var z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,a=arguments.length>1?arguments[1]:void 0,n=a.type,c=a.payload;switch(n){case f:return e.accionSeleccionada.nombre===c.nombre?Object(j.a)({},e,{accionSeleccionada:$}):Object(j.a)({},e,{accionSeleccionada:c});default:return e}},H=n(8),P=function(e){return e.seleccionada?e:Object(j.a)({},e,{seleccionada:!0})},X=function(e){return e.seleccionada?Object(j.a)({},e,{seleccionada:!1}):e},Y=function(e,a){return e.x===a.x&&e.y===a.y},Z=function(e,a){return Object(j.a)({},e,{maquina:a})},ee=function(e,a){return e.x===a.x?e.y-a.y:e.x-a.x},ae=function(e,a){return Object(j.a)({},e,{maquina:a.accion.ejecutar(e.maquina)})},ne=function(e){return null!==e.maquina},ce=function(e){return"".concat(e.x,"-").concat(e.y)},te={ancho:10,alto:10,celdas:function(e,a){return Array.from(Array(e*a)).map(function(n,c){var t=c%e;return function(e,a){return{seleccionada:!1,maquina:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,materia:0,x:e,y:a}}(t,(c-t)/a)}).sort(ee)}(10,10),moverDesdeCelda:null},re=function(e,a,n){return e.find(function(e){return e.x===a&&e.y===n})},ie=function(e,a){switch(a.maquina.direccion){case"Norte":return re(e,a.x+1,a.y);case"Sur":return re(e,a.x-1,a.y);case"Este":return re(e,a.x,a.y-1);case"Oeste":return re(e,a.x,a.y+1);default:return null}};var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,a=arguments.length>1?arguments[1]:void 0,n=a.type,c=a.payload;switch(n){case J:var t=e.celdas.filter(function(e){return e.maquina}).reduce(function(a,n){var c=ie(e.celdas,n);if(c&&n.maquina.nombre===A){var t=a[ce(c)]?a[ce(c)].materia:c.materia;a[ce(c)]=Object(j.a)({},c,{materia:t+n.maquina.tick(c)})}return a},{});if(0===Object.keys(t).length)return e;var r=e.celdas.map(function(e){return t[ce(e)]?t[ce(e)]:e});return Object(j.a)({},e,{celdas:r});case S:var i=Object(H.a)(e.celdas).map(function(e){return Y(e,c)?P(e):X(e)});return Object(j.a)({},e,{celdas:i});case k:var o=h.find(function(e){return e.nombre===c.maquinaAAgregar}),u=Object(H.a)(e.celdas).map(function(e){return Y(e,c.celda)?Z(e,o):e});return Object(j.a)({},e,{celdas:u});case D:if(ne(c.celda)){var l=Object(H.a)(e.celdas).map(function(e){return Y(e,c.celda)?ae(e,c.accionAEjecutar):e});return Object(j.a)({},e,{celdas:l})}return e;case R:return Object(j.a)({},e,{moverDesdeCelda:c.celda});case U:var s=Object(H.a)(e.celdas).map(function(a){return Y(a,c.celda)?Object(j.a)({},a,{maquina:e.moverDesdeCelda.maquina}):Y(a,e.moverDesdeCelda)?Object(j.a)({},a,{maquina:c.celda.maquina}):a});return Object(j.a)({},e,{celdas:s,moverDesdeCelda:null});default:return e}},ue=n(24),le=Object(G.combineReducers)({fabrica:oe,acciones:z}),se=Object(G.createStore)(le,Object(ue.composeWithDevTools)(Object(G.applyMiddleware)(V.a))),de=t.a.createElement(o.a,{store:se},t.a.createElement(F,null));i.a.render(de,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.b2180d32.chunk.js.map