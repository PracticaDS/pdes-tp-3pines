(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,a){},18:function(e,n,a){},27:function(e,n,a){e.exports=a(41)},34:function(e,n,a){},35:function(e,n,a){},38:function(e,n,a){},39:function(e,n,a){},40:function(e,n,a){},41:function(e,n,a){"use strict";a.r(n);var c=a(0),t=a.n(c),r=a(9),i=a.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(10),s=(a(34),a(19)),l=a(20),u=a(25),d=a(21),m=a(26),p=(a(35),a(18),a(12),"SELECCIONAR_ACCION"),v=function(e){return{type:p,payload:e}},f=a(2),b=function(e){var n=e.accion,a=e.seleccionarImagen,c=e.imagen;return t.a.createElement("div",{onClick:a},t.a.createElement("img",{src:c,alt:n.nombre,className:"accion"}))};function E(e,n){return e.acciones.accionSeleccionada.nombre===n.accion.nombre?n.accion.imagenActivaUrl:n.accion.imagenInactivaUrl}var g=Object(f.a)(function(e,n){return{imagen:E(e,n)}},function(e,n){return{seleccionarImagen:function(){return e(v(n.accion))}}})(b),O=function(e){var n=e.maquinas,a=e.acciones,c=function(){return a.map(function(e,n){return t.a.createElement(g,{key:"accion-".concat(n),accion:e})})},r=function(){return n.map(function(e,n){return t.a.createElement(g,{key:"maquina-".concat(n),accion:e})})};return t.a.createElement("div",{className:"toolbox-contenedor"},t.a.createElement("div",{className:"acciones-contenedor"},t.a.createElement("div",{className:"titulo"},"M\xe1quinas"),t.a.createElement("div",{className:"toolbox-acciones borde-piola"},t.a.createElement("div",{className:"row"},r().slice(0,2)),t.a.createElement("div",{className:"row"},r().slice(2,4)),t.a.createElement("div",{className:"row"},r().slice(4,6)))),t.a.createElement("div",{className:"acciones-contenedor"},t.a.createElement("div",{className:"titulo"},"Edici\xf3n"),t.a.createElement("div",{className:"toolbox-acciones borde-piola"},t.a.createElement("div",{className:"row"},c().slice(0,2)),t.a.createElement("div",{className:"row"},c().slice(2,4)))))},j=(a(38),a(1)),N=function(e,n,a,c,t){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Norte";arguments.length>6&&arguments[6];return{nombre:e,imagenActivaUrl:n,imagenInactivaUrl:a,frecuencia:c,costo:t,direccion:r,tick:function(){console.log("tick from maquina")}}},y=function(e,n,a,c){return{nombre:e,imagenActivaUrl:n,imagenInactivaUrl:a,accion:c}},h=[y("Rotar","/pdes-tp-3pines/icons/rotar_activo.svg","/pdes-tp-3pines/icons/rotar.svg",{ejecutar:function(e){return"Norte"===e.direccion?Object(j.a)({},e,{direccion:"Este"}):"Este"===e.direccion?Object(j.a)({},e,{direccion:"Sur"}):"Sur"===e.direccion?Object(j.a)({},e,{direccion:"Oeste"}):"Oeste"===e.direccion?Object(j.a)({},e,{direccion:"Norte"}):void 0}}),y("Eliminar","/pdes-tp-3pines/icons/eliminar_activo.svg","/pdes-tp-3pines/icons/eliminar.svg",{ejecutar:function(e){return null}}),y("Mover","/pdes-tp-3pines/icons/mover_activo.svg","/pdes-tp-3pines/icons/mover.svg",{ejecutar:function(){}})],A=[N("Starter","/pdes-tp-3pines/icons/starter_activo.svg","/pdes-tp-3pines/icons/starter.svg","1","10"),N("Seller","/pdes-tp-3pines/icons/seller_activo.svg","/pdes-tp-3pines/icons/seller.svg","1","15"),N("Crafter","/pdes-tp-3pines/icons/crafter_activo.svg","/pdes-tp-3pines/icons/crafter.svg","1","20"),N("Furnace","/pdes-tp-3pines/icons/furnace_activo.svg","/pdes-tp-3pines/icons/furnace.svg","1","25"),N("Transporter","/pdes-tp-3pines/icons/transporter_activo.svg","/pdes-tp-3pines/icons/transporter.svg","1","30","Norte")];function C(e){return A.find(function(n){return n.nombre===e.acciones.accionSeleccionada.nombre})}var q=Object(f.a)(function(e,n){return{maquina:C(e)}})(function(e){var n=e.maquina;return t.a.createElement("div",{className:"detalle-contenedor"},t.a.createElement("div",null,t.a.createElement("div",{className:"titulo"},"Detalles"),t.a.createElement("div",{className:"detalle-contenido borde-redondeado"},n?t.a.createElement("div",null,t.a.createElement("div",{className:"nombre-maquina"},n.nombre),t.a.createElement("div",{className:"costo-maquina"},"Costo: ",t.a.createElement("span",null," $",n.costo," ")),t.a.createElement("div",{className:"frecuencia-maquina"},"Frecuencia: ",t.a.createElement("span",null," ",n.frecuencia,"/s "))):"")))}),w=(a(39),a(40),function(e){return"celda ".concat(e?"seleccionada":"")}),_=function(e){var n=e.seleccionada,a=e.seleccionar,c=e.maquina;return t.a.createElement("div",{className:w(n),onClick:a},c?t.a.createElement("img",{className:c.direccion.toLowerCase(),src:c.imagenInactivaUrl,alt:c.nombre,height:"100%",width:"100%"}):"")},I="SELECCIONAR_CELDA",x="AGREGAR_MAQUINA",S="EJECUTAR_ACCION",k="SELECCIONAR_CELDA_DE_MAQUINA_A_MOVER",D="MOVER_MAQUINA_DE_CELDA",R=function(e){return function(n,a){n({type:I,payload:e});var c=a().acciones.accionSeleccionada;if(function(e){return A.map(function(e){return e.nombre}).includes(e.nombre)}(c)&&n({type:x,payload:{celda:e,maquinaAAgregar:c.nombre}}),function(e){return h.map(function(e){return e.nombre}).includes(e.nombre)}(c)){if("Mover"===c.nombre){var t=e.maquina,r=a().fabrica.moverDesdeCelda;if(!t&&!r)return;return void n(r?{type:D,payload:{celda:e,accionAEjecutar:c}}:{type:k,payload:{celda:e,accionAEjecutar:c}})}n({type:S,payload:{celda:e,accionAEjecutar:c}})}}},U=Object(f.a)(function(e,n){return{seleccionada:n.celda.seleccionada,maquina:n.celda.maquina}},function(e,n){return{seleccionar:function(){return e(R(n.celda))}}})(_),M=function(e){return{gridTemplateColumns:"repeat(".concat(e.ancho,", ").concat(55,"px)"),gridTemplateRows:"repeat(".concat(e.alto,", ").concat(55,"px)"),width:"".concat(55*e.ancho,"px"),height:"".concat(55*e.alto,"px")}},L="TICK",T=function(){return{type:L,payload:1}},J=function(e){setInterval(function(){e(T())},1e3)},Q=Object(f.a)(function(e,n){return{alto:10,ancho:10,celdas:e.fabrica.celdas}},function(e,n){return{tick:J(e)}})(function(e){return t.a.createElement("div",{className:"fabrica-contenedor",style:M(e)},e.celdas.map(function(e,n){return t.a.createElement(U,{key:n,celda:e})}))}),W=function(e){function n(){return Object(s.a)(this,n),Object(u.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){return t.a.createElement("div",{className:"app-contenedor"},t.a.createElement(O,{maquinas:A,acciones:h}),t.a.createElement(Q,{id:"fabrica"}),t.a.createElement(q,{id:"detalle"}))}}]),n}(c.Component),B=a(3),F=a(23),G={nombre:""},V={accionSeleccionada:G};var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,n=arguments.length>1?arguments[1]:void 0,a=n.type,c=n.payload;switch(a){case p:return e.accionSeleccionada.nombre===c.nombre?Object(j.a)({},e,{accionSeleccionada:G}):Object(j.a)({},e,{accionSeleccionada:c});default:return e}},K=a(8),z=function(e){return e.seleccionada?e:Object(j.a)({},e,{seleccionada:!0})},H=function(e){return e.seleccionada?Object(j.a)({},e,{seleccionada:!1}):e},P=function(e,n){return e.x===n.x&&e.y===n.y},X=function(e,n){return Object(j.a)({},e,{maquina:n})},Y=function(e,n){return e.x===n.x?e.y-n.y:e.x-n.x},Z=function(e,n){return Object(j.a)({},e,{maquina:n.accion.ejecutar(e.maquina)})},ee=function(e){return null!==e.maquina},ne={celdas:function(e,n){return Array.from(Array(e*n)).map(function(a,c){var t=c%e;return function(e,n){return{seleccionada:!1,maquina:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,x:e,y:n}}(t,(c-t)/n)}).sort(Y)}(10,10),moverDesdeCelda:null};var ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,n=arguments.length>1?arguments[1]:void 0,a=n.type,c=n.payload;switch(a){case L:return e.celdas.forEach(function(e){return e.maquina?e.maquina.tick():"do nothing"}),e;case I:var t=Object(K.a)(e.celdas).map(function(e){return P(e,c)?z(e):H(e)});return Object(j.a)({},e,{celdas:t});case x:var r=A.find(function(e){return e.nombre===c.maquinaAAgregar}),i=Object(K.a)(e.celdas).map(function(e){return P(e,c.celda)?X(e,r):e});return Object(j.a)({},e,{celdas:i});case S:if(ee(c.celda)){var o=Object(K.a)(e.celdas).map(function(e){return P(e,c.celda)?Z(e,c.accionAEjecutar):e});return Object(j.a)({},e,{celdas:o})}return e;case k:return Object(j.a)({},e,{moverDesdeCelda:c.celda});case D:var s=Object(K.a)(e.celdas).map(function(n){return P(n,c.celda)?Object(j.a)({},n,{maquina:e.moverDesdeCelda.maquina}):P(n,e.moverDesdeCelda)?Object(j.a)({},n,{maquina:c.celda.maquina}):n});return Object(j.a)({},e,{celdas:s,moverDesdeCelda:null});default:return e}},ce=a(24),te=Object(B.combineReducers)({fabrica:ae,acciones:$}),re=Object(B.createStore)(te,Object(ce.composeWithDevTools)(Object(B.applyMiddleware)(F.a))),ie=t.a.createElement(o.a,{store:re},t.a.createElement(W,null));i.a.render(ie,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.d27f9608.chunk.js.map