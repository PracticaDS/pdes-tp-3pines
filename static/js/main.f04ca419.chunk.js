(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,a,n){},30:function(e,a,n){},37:function(e,a,n){e.exports=n(57)},44:function(e,a,n){},45:function(e,a,n){},48:function(e,a,n){},49:function(e,a,n){},50:function(e,a,n){},51:function(e,a,n){},52:function(e,a,n){},54:function(e,a,n){},57:function(e,a,n){"use strict";n.r(a);var t=n(0),c=n.n(t),r=n(18),i=n.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(20),u=(n(44),n(45),n(30),n(24),"SELECCIONAR_ACCION"),s=function(e){return{type:u,payload:e}},l=n(5),d=function(e){var a=e.accion,n=e.seleccionarImagen,t=e.imagen;return c.a.createElement("div",{onClick:n},c.a.createElement("img",{src:t,alt:a.nombre,className:"accion"}))},m=function(e,a){return e.acciones.accionSeleccionada.nombre===a.accion.nombre?a.accion.imagenActivaUrl:a.accion.imagenInactivaUrl},p=Object(l.b)(function(e,a){return{imagen:m(e,a)}},function(e,a){return{seleccionarImagen:function(){return e(s(a.accion))}}})(d),f=function(e){var a=e.maquinas,n=e.acciones,t=function(){return n.map(function(e,a){return c.a.createElement(p,{key:"accion-".concat(a),accion:e})})},r=function(){return a.map(function(e,a){return c.a.createElement(p,{key:"maquina-".concat(a),accion:e})})};return c.a.createElement("div",{className:"toolbox-contenedor"},c.a.createElement("div",{className:"acciones-contenedor"},c.a.createElement("div",{className:"titulo"},"M\xe1quinas"),c.a.createElement("div",{className:"toolbox-acciones borde-redondeado"},c.a.createElement("div",{className:"row"},r().slice(0,2)),c.a.createElement("div",{className:"row"},r().slice(2,4)),c.a.createElement("div",{className:"row"},r().slice(4,6)))),c.a.createElement("div",{className:"acciones-contenedor"},c.a.createElement("div",{className:"titulo"},"Edici\xf3n"),c.a.createElement("div",{className:"toolbox-acciones borde-redondeado"},c.a.createElement("div",{className:"row"},t().slice(0,2)),c.a.createElement("div",{className:"row"},t().slice(2,4)))))},v=(n(48),n(1)),b=function(e,a,n,t,c){return{nombre:e,imagenActivaUrl:a,imagenInactivaUrl:n,frecuencia:t,costo:c,direccion:arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Norte",tick:function(){return 1}}},E=function(e,a,n,t){return{nombre:e,imagenActivaUrl:a,imagenInactivaUrl:n,accion:t}},g=[E("Rotar","/pdes-tp-3pines/icons/rotar_activo.svg","/pdes-tp-3pines/icons/rotar.svg",{ejecutar:function(e){return"Norte"===e.direccion?Object(v.a)({},e,{direccion:"Este"}):"Este"===e.direccion?Object(v.a)({},e,{direccion:"Sur"}):"Sur"===e.direccion?Object(v.a)({},e,{direccion:"Oeste"}):"Oeste"===e.direccion?Object(v.a)({},e,{direccion:"Norte"}):void 0}}),E("Eliminar","/pdes-tp-3pines/icons/eliminar_activo.svg","/pdes-tp-3pines/icons/eliminar.svg",{ejecutar:function(e){return null}}),E("Mover","/pdes-tp-3pines/icons/mover_activo.svg","/pdes-tp-3pines/icons/mover.svg",{ejecutar:function(){}})],O="Starter",y="Seller",j=[b(O,"/pdes-tp-3pines/icons/starter_activo.svg","/pdes-tp-3pines/icons/starter.svg","1","10"),b(y,"/pdes-tp-3pines/icons/seller_activo.svg","/pdes-tp-3pines/icons/seller.svg","1","15"),b("Crafter","/pdes-tp-3pines/icons/crafter_activo.svg","/pdes-tp-3pines/icons/crafter.svg","1","20"),b("Furnace","/pdes-tp-3pines/icons/furnace_activo.svg","/pdes-tp-3pines/icons/furnace.svg","1","25"),b("Transporter","/pdes-tp-3pines/icons/transporter_activo.svg","/pdes-tp-3pines/icons/transporter.svg","1","30","Norte")];function h(e){return j.find(function(a){return a.nombre===e.acciones.accionSeleccionada.nombre})}var N=Object(l.b)(function(e,a){return{maquina:h(e)}})(function(e){var a=e.maquina;return c.a.createElement("div",{className:"detalle-contenedor"},c.a.createElement("div",null,c.a.createElement("div",{className:"titulo"},"Detalles"),c.a.createElement("div",{className:"detalle-contenido borde-redondeado"},a?c.a.createElement("div",null,c.a.createElement("div",{className:"nombre-maquina"},a.nombre),c.a.createElement("div",{className:"costo-maquina"},"Costo: ",c.a.createElement("span",null," $",a.costo," ")),c.a.createElement("div",{className:"frecuencia-maquina"},"Frecuencia: ",c.a.createElement("span",null," ",a.frecuencia,"/s "))):"")))}),w=(n(49),n(50),n(51),function(e){var a=e.maquina;return c.a.createElement("div",null,c.a.createElement("img",{src:a.imagenInactivaUrl,alt:a.nombre,className:"'maquina' ".concat(a.direccion.toLowerCase())}))}),A=function(e){return"celda ".concat(e?"seleccionada":"")},q=function(e){var a=e.celda,n=e.seleccionada,t=e.seleccionar,r=e.maquina;return c.a.createElement("div",{className:A(n),onClick:t},r?c.a.createElement(w,{maquina:r}):"",a.materia?c.a.createElement("div",{className:"materia-prima"},a.materia):"")},x="SELECCIONAR_CELDA",C="AGREGAR_MAQUINA",S="EJECUTAR_ACCION",_="SELECCIONAR_CELDA_DE_MAQUINA_A_MOVER",k="MOVER_MAQUINA_DE_CELDA",R=function(e){return function(a,n){a({type:x,payload:e});var t=n().acciones.accionSeleccionada;if(function(e){return j.map(function(e){return e.nombre}).includes(e.nombre)}(t)&&a({type:C,payload:{celda:e,maquinaAAgregar:t.nombre}}),function(e){return g.map(function(e){return e.nombre}).includes(e.nombre)}(t)){if("Mover"===t.nombre){var c=e.maquina,r=n().fabrica.moverDesdeCelda;if(!c&&!r)return;return void a(r?{type:k,payload:{celda:e,accionAEjecutar:t}}:{type:_,payload:{celda:e,accionAEjecutar:t}})}a({type:S,payload:{celda:e,accionAEjecutar:t}})}}},I=Object(l.b)(function(e,a){return{celda:a.celda,seleccionada:a.celda.seleccionada,maquina:a.celda.maquina}},function(e,a){return{seleccionar:function(){return e(R(a.celda))}}})(q),D=function(e){return{gridTemplateColumns:"repeat(".concat(e.ancho,", ").concat(55,"px)"),gridTemplateRows:"repeat(".concat(e.alto,", ").concat(55,"px)"),width:"".concat(55*e.ancho,"px"),height:"".concat(55*e.alto,"px")}},U="TICK",M=function(){return{type:U}},T=function(e){setInterval(function(){e(M())},1e3)},L=Object(l.b)(function(e,a){return{alto:e.fabrica.alto,ancho:e.fabrica.ancho,celdas:e.fabrica.celdas}},function(e,a){return{tick:T(e)}})(function(e){return c.a.createElement("div",{className:"fabrica-contenedor"},c.a.createElement("div",{className:"fabrica",style:D(e)},e.celdas.map(function(e,a){return c.a.createElement(I,{key:a,celda:e})})))}),J=(n(52),function(e){var a=e.ganancia,n=e.usuario;return c.a.createElement("div",{className:"ganancia-contenedor"},"Ganancias ",c.a.createElement("span",{className:"ganancia"},"$",a),c.a.createElement("code",{id:"nombre-usuario"},n))}),B=Object(l.b)(function(e,a){return{ganancia:e.fabrica.ganancia,usuario:e.fabrica.usuario.nombre}},null)(J),G=function(e){return console.log(e),c.a.createElement("div",{className:"app-contenedor"},c.a.createElement(B,{id:"ganancia"}),c.a.createElement(f,{maquinas:j,acciones:g}),c.a.createElement(L,{id:"fabrica"}),c.a.createElement(N,{id:"detalle"}))},Q=n(12),W=n(33),$={nombre:""},F={accionSeleccionada:$};var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,a=arguments.length>1?arguments[1]:void 0,n=a.type,t=a.payload;switch(n){case u:return e.accionSeleccionada.nombre===t.nombre?Object(v.a)({},e,{accionSeleccionada:$}):Object(v.a)({},e,{accionSeleccionada:t});default:return e}},V=n(36),K=function(e,a,n){return e.find(function(e){return e.x===a&&e.y===n})},z=function(e,a){switch(a.maquina.direccion){case"Norte":return K(e,a.x+1,a.y);case"Sur":return K(e,a.x-1,a.y);case"Este":return K(e,a.x,a.y-1);case"Oeste":return K(e,a.x,a.y+1);default:return null}},H=function(e,a){return e.x===a.x&&e.y===a.y},X=function(e,a){return e.x===a.x?e.y-a.y:e.x-a.x},Y=function(e){return null!==e.maquina},Z=function(e){return"".concat(e.x,"-").concat(e.y)},ee=function(e,a){var n,t=a.type,c=a.payload;switch(t){case x:return H(e,c)?(n=e).seleccionada?n:Object(v.a)({},n,{seleccionada:!0}):function(e){return e.seleccionada?Object(v.a)({},e,{seleccionada:!1}):e}(e);case C:var r=j.find(function(e){return e.nombre===c.maquinaAAgregar});return H(e,c.celda)?function(e,a){return Object(v.a)({},e,{maquina:a})}(e,r):e;case S:return H(e,c.celda)?function(e,a){return Object(v.a)({},e,{maquina:a.accion.ejecutar(e.maquina)})}(e,c.accionAEjecutar):e;case k:return H(e,c.celda)?Object(v.a)({},e,{maquina:c.moverDesdeCelda.maquina}):H(e,c.moverDesdeCelda)?Object(v.a)({},e,{maquina:c.celda.maquina}):e;default:return e}},ae="MOSTRAR_MENSAJE_DE_ERROR",ne=function(e){return{type:ae,payload:e}},te="SETEAR_USUARIO",ce=function(e){return{type:te,payload:e}},re={ancho:10,alto:10,celdas:function(e,a){return Array.from(Array(e*a)).map(function(n,t){var c=t%e;return function(e,a){return{seleccionada:!1,maquina:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,materia:0,x:e,y:a}}(c,(t-c)/a)}).sort(X)}(10,10),moverDesdeCelda:null,ganancia:0,usuario:{},mensajeDeError:""},ie=function(e,a){return Object(V.a)(e.celdas).map(function(e){return ee(e,a)})};var oe,ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,a=arguments.length>1?arguments[1]:void 0,n=a.type,t=a.payload;switch(n){case U:var c=e.ganancia,r=e.celdas.filter(function(e){return e.maquina}).reduce(function(a,n){var t=z(e.celdas,n);if(t&&n.maquina.nombre===O){var r=a[Z(t)]?a[Z(t)].materia:t.materia;a[Z(t)]=Object(v.a)({},t,{materia:r+n.maquina.tick(t)})}return n.maquina.nombre===y&&n.materia>0&&(a[Z(n)]=Object(v.a)({},n,{materia:n.materia-1}),c+=10),a},{});if(0===Object.keys(r).length)return e;var i=e.celdas.map(function(e){return r[Z(e)]?r[Z(e)]:e});return c!==e.ganancia?Object(v.a)({},e,{celdas:i,ganancia:c}):Object(v.a)({},e,{celdas:i});case x:case C:return Object(v.a)({},e,{celdas:ie(e,{type:n,payload:t})});case S:return Y(t.celda)?Object(v.a)({},e,{celdas:ie(e,{type:n,payload:t})}):e;case _:return Object(v.a)({},e,{moverDesdeCelda:t.celda});case k:var o=Object(v.a)({},t,{moverDesdeCelda:e.moverDesdeCelda});return Object(v.a)({},e,{celdas:ie(e,{type:n,payload:o}),moverDesdeCelda:null});case te:return Object(v.a)({},e,{usuario:{nombre:t}});case ae:return Object(v.a)({},e,{mensajeDeError:t.error});default:return e}},se=n(34),le=n(14),de=n(31),me=n(9),pe=Object(me.a)(),fe=Object(Q.createStore)((oe=pe,Object(Q.combineReducers)({router:Object(le.b)(oe),fabrica:ue,acciones:P})),Object(se.composeWithDevTools)(Object(Q.applyMiddleware)(Object(de.a)(pe),W.a))),ve=n(22),be=(n(54),function(e){var a=e.login,n=e.setearUsuario;return c.a.createElement("div",{className:"app-contenedor"},c.a.createElement("div",{className:"login-container"},c.a.createElement("h1",null,"Bienvenide a la Revoluci\xf3n Industrial!"),c.a.createElement("div",{className:"login-form"},c.a.createElement("input",{name:"input",onChange:function(e){return function(e,a){a(e)}(e.target.value,n)}}),c.a.createElement("button",{type:"button",onClick:a},"\u2713"))))}),Ee=n(6),ge=n.n(Ee),Oe=n(11),ye=function(e,a){var n={method:e,headers:{"Content-Type":"application/json"}};return a?Object(v.a)({},n,{body:JSON.stringify(a)}):n},je=function(){var e=Object(Oe.a)(ge.a.mark(function e(a,n,t){var c;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("/api").concat(n),ye(a,t));case 3:return c=e.sent,e.next=6,c.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log("ERROR en ".concat(a,".\n   Path: ").concat(n,"\nStacktrace: "),e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(a,n,t){return e.apply(this,arguments)}}(),he=function(){var e=Object(Oe.a)(ge.a.mark(function e(a,n){return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",je("POST",a,n));case 1:case"end":return e.stop()}},e)}));return function(a,n){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(Oe.a)(ge.a.mark(function e(a,n){return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a();case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),console.log(n,e.t0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(a,n){return e.apply(this,arguments)}}(),we={logearUsuario:function(){var e=Object(Oe.a)(ge.a.mark(function e(a){return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ne(Object(Oe.a)(ge.a.mark(function e(){return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",he("/login",{usuario:a}));case 1:case"end":return e.stop()}},e)})),"Error al logear usaurio.\nStackTrace: "));case 1:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()},Ae=n(4),qe=function(){return function(){var e=Object(Oe.a)(ge.a.mark(function e(a,n){return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.logearUsuario(n().fabrica.usuario);case 3:a(Object(Ae.d)("/fabrica")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a(ne(e.t0));case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(a,n){return e.apply(this,arguments)}}()},xe=Object(l.b)(function(e,a){return{usuario:a.usuario}},function(e,a){return{setearUsuario:function(a){return function(e,a){e(ce(a))}(e,a)},login:function(){return e(qe())}}})(be),Ce=c.a.createElement(o.a,{store:fe},c.a.createElement(le.a,{history:pe},c.a.createElement(ve.a,{path:"/login",component:xe}),c.a.createElement(ve.a,{path:"/fabrica",component:G})));i.a.render(Ce,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.f04ca419.chunk.js.map